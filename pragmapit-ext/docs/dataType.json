{
  "type": "object",
  "required": [
    "name",
    "description"
  ],
  "properties": {
    "identifier": {
      "type": "string",
      "net.cnri.repository": {
        "type": {
          "autoGeneratedField": "handle"
        }
      }
    },
    "name": {
      "type": "string",
      "maxLength": 128,
      "title": "Type Name",
      "net.cnri.repository": {
        "preview": {
          "showInPreview": true,
          "isPrimary": true
        }
      }
    },
    "description": {
      "type": "string",
      "format": "textarea",
      "maxLength": 2048,
      "title": "Description",
      "net.cnri.repository": {
        "preview": {
          "showInPreview": true,
          "excludeTitle": true
        }
      }
    },
    "standards": {
      "type": "array",
      "format": "table",
      "title": "Applicable Standards or Recommendations",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "title": "Standard",
        "required": [
          "issuer",
          "name"
        ],
        "properties": {
          "issuer": {
            "title": "Issued By",
            "type": "string",
            "net.cnri.repository": {
              "type": {
                "suggestedVocabulary": [
                  "DTR",
                  "ISO",
                  "W3C",
                  "ITU",
                  "RFC"
                ]
              }
            }
          },
          "name": {
            "title": "Standard Name",
            "type": "string",
            "maxLength": 1024,
            "description": "TID or standard number/name"
          },
          "details": {
            "title": "Details",
            "type": "string",
            "format": "textarea",
            "maxLength": 2048
          },
          "natureOfApplicability": {
            "title": "Nature of Applicability",
            "type": "string",
            "enum": [
              "extends",
              "constrains",
              "specifies",
              "depends"
            ]
          }
        }
      }
    },
    "provenance": {
      "type": "object",
      "title": "Provenance",
      "properties": {
        "contributors": {
          "type": "array",
          "format": "table",
          "title": "Contributors of this Record",
          "items": {
            "title": "Contributor",
            "type": "object",
            "required": [
              "identifiedUsing",
              "name"
            ],
            "properties": {
              "identifiedUsing": {
                "title": "Identified Using",
                "type": "string",
                "net.cnri.repository": {
                  "type": {
                    "suggestedVocabulary": [
                      "Handle",
                      "ORCID",
                      "URL",
                      "Text"
                    ]
                  }
                }
              },
              "name": {
                "title": "Name",
                "type": "string",
                "maxLength": 2048
              },
              "details": {
                "title": "Details",
                "type": "string",
                "format": "textarea",
                "maxLength": 1024
              }
            }
          }
        },
        "creationDate": {
          "title": "Creation Date",
          "type": "string",
          "format": "datetime",
          "net.cnri.repository": {
            "type": {
              "autoGeneratedField": "creationDate"
            }
          }
        },
        "lastModificationDate": {
          "title": "Last Modification Date",
          "type": "string",
          "format": "datetime",
          "net.cnri.repository": {
            "type": {
              "autoGeneratedField": "modificationDate"
            }
          }
        }
      }
    },
    "expectedUses": {
      "type": "array",
      "maxItems": 3,
      "format": "table",
      "title": "Expected Uses",
      "items": {
        "type": "string",
        "title": "Use",
        "format": "textarea",
        "maxLength": 4096
      }
    },
    "representationsAndSemantics": {
      "type": "array",
      "format": "table",
      "title": "Representations and Semantics",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "title": "Representation and Semantic Expression",
        "required": [
          "expression",
          "value"
        ],
        "properties": {
          "expression": {
            "title": "Expression",
            "type": "string",
            "net.cnri.repository": {
              "type": {
                "suggestedVocabulary": [
                  "Format",
                  "Character Set",
                  "Encoding",
                  "Measurement Unit",
                  "RANGE",
                  "NAMESPACE"
                ]
              }
            }
          },
          "value": {
            "title": "Value",
            "description": "Unicode, UTF-8, Meter, etc.",
            "type": "string",
            "maxLength": 1024
          },
          "details": {
            "title": "Details",
            "type": "string",
            "format": "textarea",
            "maxLength": 2048
          }
        }
      }
    },
    "properties": {
      "type": "array",
      "title": "Properties",
      "description": "Type dependencies used for expressing how this type is built from other types",
      "items": {
        "type": "object",
        "headerTemplate": "{{self.name}}",
        "title": "Property",
        "required": [
          "identifier",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name assigned to dependent type in this context",
            "title": "Name",
            "maxLength": 256
          },
          "identifier": {
            "type": "string",
            "title": "TID of Existing Data Type",
            "net.cnri.repository": {
              "type": {
                "handleReference": {
                  "types": [
                    "dataType"
                  ],
                  "name": "{{../name}}"
                }
              }
            }
          },
          "representationsAndSemantics": {
            "type": "array",
            "format": "table",
            "title": "Representations and Semantics",
            "description": "Restrictions on representations and semantics of the dependent type in this context",
            "uniqueItems": true,
            "items": {
              "type": "object",
              "title": "Representation and Semantic Expression",
              "required": [
                "expression",
                "value"
              ],
              "properties": {
                "expression": {
                  "title": "Expression",
                  "type": "string",
                  "net.cnri.repository": {
                    "type": {
                      "suggestedVocabulary": [
                        "Format",
                        "Character Set",
                        "Encoding",
                        "Measurement Unit"
                      ]
                    }
                  }
                },
                "value": {
                  "title": "Value",
                  "description": "Unicode, UTF-8, Meter, etc.",
                  "type": "string",
                  "maxLength": 1024
                },
                "details": {
                  "title": "Details",
                  "type": "string",
                  "format": "textarea",
                  "maxLength": 2048
                }
              }
            }
          }
        }
      }
    },
    "relationships": {
      "type": "array",
      "format": "table",
      "title": "Experimental. Likely to change soon",
      "description": "Intent: How the properties are related to each other, e.g., grouping of properties, cardinality, etc., should be captured here.",
      "items": {
        "type": "object",
        "title": "Relationship",
        "required": [
          "name",
          "relativeNames"
        ],
        "properties": {
          "name": {
            "title": "Name of Relationship",
            "type": "string",
            "maxLength": 256
          },
          "relativeNames": {
            "type": "array",
            "minItems": 1,
            "format": "table",
            "title": "Relative Names",
            "items": {
              "type": "string",
              "title": "Name of Property"
            }
          },
          "details": {
            "title": "Details",
            "type": "string",
            "format": "textarea",
            "maxLength": 2048
          }
        }
      }
    }
  }
}
